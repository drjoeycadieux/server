/*! third party licenses: dist/vendor.LICENSE.txt */
import{b$ as A,bS as n,bY as O,bT as a}from"../core-common.mjs";import{x as I}from"./index-eCQsYVey.mjs";import"./style-COIUX8op.mjs";import{A as r,B as R,D as l,E as x}from"./icons-Dg_LJaFK.mjs";const P=async(i,s)=>{const o=O().uid,L=A("/profile/{userId}",{userId:o});return await I(),(await n.put(L,{paramId:i,visibility:s})).data},f=async i=>{i=i?"1":"0";const s=A("/apps/provisioning_api/api/v1/config/apps/{appId}/{key}",{appId:"settings",key:"profile_enabled_by_default"});return await I(),(await n.post(s,{value:i})).data},E=Object.freeze({ADDRESS:"address",AVATAR:"avatar",BIOGRAPHY:"biography",DISPLAYNAME:"displayname",EMAIL_COLLECTION:"additional_mail",EMAIL:"email",HEADLINE:"headline",NOTIFICATION_EMAIL:"notify_email",FEDIVERSE:"fediverse",ORGANISATION:"organisation",PHONE:"phone",PROFILE_ENABLED:"profile_enabled",ROLE:"role",TWITTER:"twitter",WEBSITE:"website"}),e=Object.freeze({ADDRESS:a("settings","Location"),AVATAR:a("settings","Profile picture"),BIOGRAPHY:a("settings","About"),DISPLAYNAME:a("settings","Full name"),EMAIL_COLLECTION:a("settings","Additional email"),EMAIL:a("settings","Email"),HEADLINE:a("settings","Headline"),ORGANISATION:a("settings","Organisation"),PHONE:a("settings","Phone number"),PROFILE_ENABLED:a("settings","Profile"),ROLE:a("settings","Role"),TWITTER:a("settings","X (formerly Twitter)"),FEDIVERSE:a("settings","Fediverse (e.g. Mastodon)"),WEBSITE:a("settings","Website")}),p=Object.freeze({[E.ADDRESS]:e.ADDRESS,[E.AVATAR]:e.AVATAR,[E.BIOGRAPHY]:e.BIOGRAPHY,[E.DISPLAYNAME]:e.DISPLAYNAME,[E.EMAIL_COLLECTION]:e.EMAIL_COLLECTION,[E.EMAIL]:e.EMAIL,[E.HEADLINE]:e.HEADLINE,[E.ORGANISATION]:e.ORGANISATION,[E.PHONE]:e.PHONE,[E.PROFILE_ENABLED]:e.PROFILE_ENABLED,[E.ROLE]:e.ROLE,[E.TWITTER]:e.TWITTER,[E.FEDIVERSE]:e.FEDIVERSE,[E.WEBSITE]:e.WEBSITE}),S=Object.freeze({PROFILE_VISIBILITY:a("settings","Profile visibility")}),g=Object.freeze({[e.ADDRESS]:E.ADDRESS,[e.AVATAR]:E.AVATAR,[e.BIOGRAPHY]:E.BIOGRAPHY,[e.DISPLAYNAME]:E.DISPLAYNAME,[e.EMAIL_COLLECTION]:E.EMAIL_COLLECTION,[e.EMAIL]:E.EMAIL,[e.HEADLINE]:E.HEADLINE,[e.ORGANISATION]:E.ORGANISATION,[e.PHONE]:E.PHONE,[e.PROFILE_ENABLED]:E.PROFILE_ENABLED,[e.ROLE]:E.ROLE,[e.TWITTER]:E.TWITTER,[e.FEDIVERSE]:E.FEDIVERSE,[e.WEBSITE]:E.WEBSITE}),b=Object.freeze({LANGUAGE:"language",LOCALE:"locale"}),u=Object.freeze({LANGUAGE:a("settings","Language"),LOCALE:a("settings","Locale")}),t=Object.freeze({PRIVATE:"v2-private",LOCAL:"v2-local",FEDERATED:"v2-federated",PUBLISHED:"v2-published"}),C=Object.freeze({[e.ADDRESS]:[t.LOCAL,t.PRIVATE],[e.AVATAR]:[t.LOCAL,t.PRIVATE],[e.BIOGRAPHY]:[t.LOCAL,t.PRIVATE],[e.DISPLAYNAME]:[t.LOCAL],[e.EMAIL_COLLECTION]:[t.LOCAL],[e.EMAIL]:[t.LOCAL],[e.HEADLINE]:[t.LOCAL,t.PRIVATE],[e.ORGANISATION]:[t.LOCAL,t.PRIVATE],[e.PHONE]:[t.LOCAL,t.PRIVATE],[e.PROFILE_ENABLED]:[t.LOCAL,t.PRIVATE],[e.ROLE]:[t.LOCAL,t.PRIVATE],[e.TWITTER]:[t.LOCAL,t.PRIVATE],[e.FEDIVERSE]:[t.LOCAL,t.PRIVATE],[e.WEBSITE]:[t.LOCAL,t.PRIVATE]}),m=Object.freeze([e.BIOGRAPHY,e.HEADLINE,e.ORGANISATION,e.ROLE]),F="Scope",y=Object.freeze({[t.PRIVATE]:{name:t.PRIVATE,displayName:a("settings","Private"),tooltip:a("settings","Only visible to people matched via phone number integration through Talk on mobile"),tooltipDisabled:a("settings","Not available as this property is required for core functionality including file sharing and calendar invitations"),icon:r},[t.LOCAL]:{name:t.LOCAL,displayName:a("settings","Local"),tooltip:a("settings","Only visible to people on this instance and guests"),icon:R},[t.FEDERATED]:{name:t.FEDERATED,displayName:a("settings","Federated"),tooltip:a("settings","Only synchronize to trusted servers"),tooltipDisabled:a("settings","Not available as federation has been disabled for your account, contact your system administration if you have any questions"),icon:l},[t.PUBLISHED]:{name:t.PUBLISHED,displayName:a("settings","Published"),tooltip:a("settings","Synchronize to trusted servers and the global and public address book"),tooltipDisabled:a("settings","Not available as publishing account specific data to the lookup server is not allowed, contact your system administration if you have any questions"),icon:x}}),B=t.LOCAL,V=Object.freeze({NOT_VERIFIED:0,VERIFICATION_IN_PROGRESS:1,VERIFIED:2}),T=/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-+[a-z0-9]+)*\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-+[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\]))$/i;function v(i){return typeof i=="string"&&T.test(i)&&i.slice(-1)!=="\n"&&i.length<=320&&encodeURIComponent(i).replace(/%../g,"x").length<=320}function H(i){try{return new URL(i),!0}catch{return!1}}function _(i){return i.code!==""&&i.name!==""&&i.name!==void 0}function h(i){return typeof i=="boolean"}export{e as A,B as D,p as N,S as P,F as S,m as U,V,u as a,y as b,C as c,t as d,g as e,E as f,v as g,H as h,_ as i,b as j,P as k,f as s,h as v};
