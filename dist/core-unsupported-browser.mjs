/*! third party licenses: dist/vendor.LICENSE.txt */
import{F as d,X as l,bT as w,c6 as b,ca as m,b_ as s,aW as f}from"./core-common.mjs";import{s as u,a,b as c,c as p}from"./chunks/RedirectUnsupportedBrowsers-Bax8BPQL.mjs";import{n as _,W as h}from"./chunks/icons-Dg_LJaFK.mjs";import{l as v}from"./chunks/logger-Ct5_JyUm.mjs";import"./chunks/index-7XKGWWeV.mjs";v.debug("Supported browsers",{supportedBrowsers:u});const B={name:"UnsupportedBrowser",components:{Web:h,NcButton:d,NcEmptyContent:l},computed:{isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},filteredSupportedBrowsers(){return u.filter(e=>e?this.isMobile?this.isMobileBrowser(e):!this.isMobileBrowser(e):!1)},formattedBrowsersList(){const e={};return this.filteredSupportedBrowsers.forEach(o=>{const[t,r]=o.split(" ");(!e[t]||e[t]<parseFloat(r,10))&&(e[t]=parseFloat(r,10))}),Object.keys(e).map(o=>{var n,i;if(!((n=a[o])!=null&&n.browser))return null;const t=e[o],r=(i=a[o])==null?void 0:i.browser;return this.t("core","{name} version {version} and above",{name:r,version:t})}).filter(o=>o!==null)}},methods:{t:w,n:b,forceBrowsing(){c.setItem(p,!0);const e=new URLSearchParams(window.location.search);if(e.has("redirect_url")){const o=m.from(e.get("redirect_url"),"base64").toString()||"/";if(o.startsWith("/")){window.location=s(o);return}}window.location=s("/")},isMobileBrowser(e){return e=e.toLowerCase(),e.includes("and_")||e.includes("android")||e.includes("ios_")||e.includes("mobile")||e.includes("_mob")||e.includes("samsung")}}};var g=function(){var e=this,o=e._self._c;return o("div",{staticClass:"content-unsupported-browser guest-box"},[o("NcEmptyContent",{scopedSlots:e._u([{key:"icon",fn:function(){return[o("Web")]},proxy:!0},{key:"action",fn:function(){return[o("div",[o("h2",[e._v(" "+e._s(e.t("core","Your browser is not supported. Please upgrade to a newer version or a supported one."))+" ")]),o("NcButton",{staticClass:"content-unsupported-browser__continue",attrs:{type:"primary"},on:{click:e.forceBrowsing}},[e._v(" "+e._s(e.t("core","Continue with this unsupported browser"))+" ")])],1),o("ul",{staticClass:"content-unsupported-browser__list"},[o("h3",[e._v(e._s(e.t("core","Supported versions")))]),e._l(e.formattedBrowsersList,function(t){return o("li",{key:t},[e._v(" "+e._s(t)+" ")])})],2)]},proxy:!0}])},[e._v(" "+e._s(e.t("core","This browser is not supported"))+" ")])],1)},y=[],S=_(B,g,y,!1,null,"2beaf8e3");const C=S.exports;c.getItem(p)==="true"&&(window.location=s("/"));const E=new f({el:"#unsupported-browser",name:"UnsupportedBrowserRoot",render:e=>e(C)});export{E as default};
